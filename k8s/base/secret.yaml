# StringSecret - Auto-generates secure random secrets
# Requires: kubectl apply -f https://github.com/mittwald/kubernetes-secret-generator/releases/latest/download/secret-generator.yaml
apiVersion: secretgenerator.mittwald.de/v1alpha1
kind: StringSecret
metadata:
  name: ldap-auth-secrets
  labels:
    app.kubernetes.io/component: secrets
spec:
  # Auto-generate secure random secrets
  fields:
  - fieldName: API_BEARER_TOKEN
    length: "64"
    encoding: base64url
  - fieldName: REDIS_PASSWORD
    length: "32"
    encoding: base64url
---
# If secret-generator is not available, fallback to manual secret
# Uncomment this and comment out StringSecret above
# apiVersion: v1
# kind: Secret
# metadata:
#   name: ldap-auth-secrets
#   labels:
#     app.kubernetes.io/component: secrets
# type: Opaque
# stringData:
#   API_BEARER_TOKEN: "changeme-generate-secure-token"
#   REDIS_PASSWORD: "changeme-redis-password"
